{"componentChunkName":"component---src-templates-blog-post-js","path":"/enviando-email-usando-javascript-e-nodejs/","webpackCompilationHash":"20a39a4448d05f7c0770","result":{"data":{"site":{"siteMetadata":{"title":"Maurício Mutte","author":"Maurício Mutte"}},"markdownRemark":{"id":"86d08e69-3f69-5448-ac42-a3f5614f8a25","excerpt":"Se você caiu de paraquedas nesse post, prazer, me chamo Maurício e seja bem vindo ao meu blog! Navegando pela internet eu descobri como enviar e-mails usando…","html":"<p>Se você caiu de paraquedas nesse post, prazer, me chamo Maurício e seja bem vindo ao meu blog! Navegando pela internet eu descobri como enviar e-mails usando JavaScript e NodeJS de uma maneira super rápida, isso quebrou a minha crença de que mandar e-mail usando uma linguagem de programação é algo difícil.</p>\n<h2>Instalando o NodeJS</h2>\n<p><em>Obs: caso você já tenha o NodeJS instalado, pule para próxima etapa</em></p>\n<p>Para instalar o NodeJS é fácil:</p>\n<ul>\n<li>Vá ao <a href=\"https://nodejs.org/en/download/\">site oficial</a> </li>\n<li>Escolha a opção do seu sistema operacional</li>\n<li>Instale normalmente.</li>\n</ul>\n<h2>Baixando o Nodemailer</h2>\n<p>Antes de baixar os pacotes do Nodemailer, você terá que:</p>\n<ul>\n<li>Criar uma pasta para o projeto</li>\n<li>Abrir o terminal no diretório da pasta do projeto</li>\n<li>Rodar o comando: <em>npm init -y</em></li>\n<li>Criar o arquivo: <em>send.js</em></li>\n</ul>\n<p>Após isso, baixe o Nodemailer com NPM executando no terminal o comando:</p>\n<div class=\"gatsby-highlight\" data-language=\"command\"><pre class=\"language-command\"><code class=\"language-command\">$ npm install nodemailer </code></pre></div>\n<h2>Indo ao que interessa, ao código</h2>\n<p>Para começar, chame o Nodemailer:</p>\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre class=\"language-javascript\"><code class=\"language-javascript\"><span class=\"token keyword\">const</span> nodemailer <span class=\"token operator\">=</span> <span class=\"token function\">require</span><span class=\"token punctuation\">(</span><span class=\"token string\">'nodemailer'</span><span class=\"token punctuation\">)</span></code></pre></div>\n<p>Defina o endereço de e-mail que você usará e o e-mail destinado:</p>\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre class=\"language-javascript\"><code class=\"language-javascript\"><span class=\"token keyword\">const</span> seuemail <span class=\"token operator\">=</span> <span class=\"token string\">'seuemail@hotmail.com'</span>\n<span class=\"token keyword\">const</span> emaildestinado <span class=\"token operator\">=</span> <span class=\"token string\">'emaildestinado@email.com'</span></code></pre></div>\n<p>Para configurar o envio, você precisará definir o serviço de e-mail (eu recomendo o Outlook, eu não consegui enviar com o Gmail), o seu e-mail e a senha (não se preocupe, sua senha  não será salva):</p>\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre class=\"language-javascript\"><code class=\"language-javascript\"><span class=\"token keyword\">const</span> transporter <span class=\"token operator\">=</span> nodemailer<span class=\"token punctuation\">.</span><span class=\"token function\">createTransport</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span>\n service<span class=\"token punctuation\">:</span> <span class=\"token string\">'outlook'</span><span class=\"token punctuation\">,</span>\n auth<span class=\"token punctuation\">:</span> <span class=\"token punctuation\">{</span>\n   user<span class=\"token punctuation\">:</span> seuemail<span class=\"token punctuation\">,</span>\n   pass<span class=\"token punctuation\">:</span> <span class=\"token string\">'senha'</span>\n <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span></code></pre></div>\n<p>Na configuração da mensagem, você precisará do seu e-mail e do e-mail destinado que foram definidos acima, escrever o assunto e sua mensagem:</p>\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre class=\"language-javascript\"><code class=\"language-javascript\"><span class=\"token keyword\">const</span> mailOptions <span class=\"token operator\">=</span> <span class=\"token punctuation\">{</span>\n <span class=\"token keyword\">from</span><span class=\"token punctuation\">:</span> seuemail<span class=\"token punctuation\">,</span>\n to<span class=\"token punctuation\">:</span> emaildestinado<span class=\"token punctuation\">,</span>\n subject<span class=\"token punctuation\">:</span> <span class=\"token string\">'Enviando e-mail usando JavaScript e NodeJS'</span><span class=\"token punctuation\">,</span>\n text<span class=\"token punctuation\">:</span> <span class=\"token string\">'Esta mensagem está sendo enviada utilizando JavaScript com NodeJS'</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<p>Configurando a resposta para o Terminal:</p>\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre class=\"language-javascript\"><code class=\"language-javascript\">transporter<span class=\"token punctuation\">.</span><span class=\"token function\">sendMail</span><span class=\"token punctuation\">(</span>mailOptions<span class=\"token punctuation\">,</span> <span class=\"token punctuation\">(</span><span class=\"token parameter\">error</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>error<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n   <span class=\"token keyword\">return</span> console<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span>error<span class=\"token punctuation\">)</span>\n <span class=\"token punctuation\">}</span>\n console<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span><span class=\"token string\">'E-mail enviado com sucesso!'</span><span class=\"token punctuation\">)</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span></code></pre></div>\n<h2>Enviando o e-mail</h2>\n<p>Por fim, para enviar o e-mail, você só precisará executar o seguinte comando no Terminal:</p>\n<div class=\"gatsby-highlight\" data-language=\"command\"><pre class=\"language-command\"><code class=\"language-command\">$ node send.js</code></pre></div>\n<h2>Código final:</h2>\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre class=\"language-javascript\"><code class=\"language-javascript\"><span class=\"token keyword\">const</span> nodemailer <span class=\"token operator\">=</span> <span class=\"token function\">require</span><span class=\"token punctuation\">(</span><span class=\"token string\">'nodemailer'</span><span class=\"token punctuation\">)</span>\n\n<span class=\"token keyword\">const</span> seuemail <span class=\"token operator\">=</span> <span class=\"token string\">'seuemail@hotmail.com'</span>\n<span class=\"token keyword\">const</span> emaildestinado <span class=\"token operator\">=</span> <span class=\"token string\">'emaildestinado@email.com'</span>\n\n<span class=\"token keyword\">const</span> transporter <span class=\"token operator\">=</span> nodemailer<span class=\"token punctuation\">.</span><span class=\"token function\">createTransport</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span>\n  service<span class=\"token punctuation\">:</span> <span class=\"token string\">'outlook'</span><span class=\"token punctuation\">,</span>\n  auth<span class=\"token punctuation\">:</span> <span class=\"token punctuation\">{</span>\n    user<span class=\"token punctuation\">:</span> seuemail<span class=\"token punctuation\">,</span>\n    pass<span class=\"token punctuation\">:</span> <span class=\"token string\">'senha'</span>\n  <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span>\n \n<span class=\"token keyword\">const</span> mailOptions <span class=\"token operator\">=</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">from</span><span class=\"token punctuation\">:</span> seuemail<span class=\"token punctuation\">,</span>\n  to<span class=\"token punctuation\">:</span> emaildestinado<span class=\"token punctuation\">,</span>\n  subject<span class=\"token punctuation\">:</span> <span class=\"token string\">'Enviando e-mail usando JavaScript e NodeJS'</span><span class=\"token punctuation\">,</span>\n  text<span class=\"token punctuation\">:</span> <span class=\"token string\">'Esta mensagem está sendo enviada utilizando JavaScript com NodeJS'</span>\n<span class=\"token punctuation\">}</span>\n \ntransporter<span class=\"token punctuation\">.</span><span class=\"token function\">sendMail</span><span class=\"token punctuation\">(</span>mailOptions<span class=\"token punctuation\">,</span> <span class=\"token punctuation\">(</span><span class=\"token parameter\">error</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>error<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">return</span> console<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span>error<span class=\"token punctuation\">)</span>\n  <span class=\"token punctuation\">}</span>\n  console<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span><span class=\"token string\">'E-mail enviado com sucesso!'</span><span class=\"token punctuation\">)</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span></code></pre></div>","frontmatter":{"title":"Enviando e-mail usando JavaScript e NodeJS","date":"October 11, 2018","description":"Navegando pela internet eu descobri como enviar e-mails usando JavaScript e NodeJS de uma maneira super rápida, isso quebrou a minha crença de que mandar e-mail usando uma linguagem de programação é algo difícil."}}},"pageContext":{"isCreatedByStatefulCreatePages":false,"slug":"/enviando-email-usando-javascript-e-nodejs/","previous":{"fields":{"slug":"/a-melhor-forma-de-compartilhar-trechos-do-seu-codigo/"},"frontmatter":{"title":"A melhor forma de compartilhar trechos do seu código"}},"next":null}}}